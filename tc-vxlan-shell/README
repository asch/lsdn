1) Run the run.sh script.

This script will create the following scenario:

#
#      ----------------------------------------------------------------------------
#      |    VIRT. NET 1 |  VIRT. NET 1     |   VIRT. NET 2     |    VIRT. NET 2   |
#      |    NAMESPACE 1 |  NAMESPACE 2     |   NAMESPACE 3     |    NAMESPACE 4   |
#      |       VM 1     |     VM 2         |      VM 3         |       VM 4       |
#      |                |                  |                   |                  |
#      |       VETH     |     VETH         |      VETH         |       VETH       |
#      |        ^       |      ^           |       ^           |        ^         |
#      |--------|--------------|-----------|-------|-----------|--------|---------|
#      |        v              v                   v                    v         |
#      |       VETH           VETH                VETH                 VETH       |
#      |        |              |                   |                    |         |
#      |        -----bridgea----                   ---------bridgeb------         | 
#      |                |                                      |                  |
#      |          vxlana ~ VTEP                          vxlanb ~ VTEP            |
#      |                |            tc redir (vni)            |                  |
#      |                ----------------------------------------                  |
#      |                                  |                                       |
#      |                          eth0 (dummy_intf) ---------------> dummy_nsa    | 
#      |                                  |          tc mirror (vni)              |
#      ----------------------------------------------------------------------------
#                                         |
#                                         |

2) Ping the individual virtual machines:

ip netns exec ns-1 ping 192.168.59.2 # Packet is mirrored to dummy_nsa
ip netns exec ns-2 ping 192.168.59.1 # Packet doesn't reach dummy_intf (doesn't pass through vxlan*)

ip netns exec ns-3 ping 192.168.59.2 # Packet doesn't reach dummy_nsa (bad vni)
ip netns exec ns-4 ping 192.168.59.1 # Packet doesn't reach dummy_intf (doesn't pass through vxlan*)
